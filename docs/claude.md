# React ガントチャートアプリケーション仕様書

## 概要

[myao9494/gantt_chart_myao](https://github.com/myao9494/gantt_chart_myao)（DHTMLX Gantt + Node.js）をベースに、React + FastAPI + SQLiteで再実装したプロジェクト。

## 主な機能

1.  **ガントチャート表示**
    *   タスクの階層表示（プロジェクト > タスク）
    *   依存関係の線描画
    *   進捗率（プログレスバー）
    *   タイムラインのスケール変更（日、月、四半期、年）
    *   ズーム機能（表示サイズ変更）

2.  **タスク管理**
    *   作成、編集、削除（**新規作成時のデフォルト期間は1日**）
    *   ドラッグ＆ドロップによる日程変更
    *   右クリックメニューによる詳細操作（進捗変更、コピー、削除、オーナー変更など）。**「子タスク追加」「子プロジェクト追加」はメニュー最上部に配置。**

3.  **印刷モード (Print View)**
    *   **ヘッダー（メニュー）表示維持**: 印刷モード時もメニュー操作が可能。
    *   **グリッド非表示**: タスクリストを隠し、チャートを全幅表示。
    *   **タスク名表示**: ガントバーの**右側**にタスク名・プロジェクト名を表示（バー内部は非表示）。
    *   **横スクロール**: 印刷範囲（日付）を横スクロールで調整可能。
    *   **初期位置**: 印刷モード切り替え時に「今日」の日付を中心に表示。

4.  **その他**
    *   **ダークモード**: テーマ切り替え対応。
    *   **CSVインポート/エクスポート**: 既存アプリ互換フォーマット。
    *   **タスク自動移動**: 未完了タスクを今日以降に一括移動。
    *   **差分比較**: CSVファイルと現在のタスクを比較し、追加・削除・変更されたタスクを一覧表示。変更されたタスクは詳細な変更内容を確認可能。検索ボックスでスペース区切りのAND検索が可能。「並び順(sortorder)」は比較対象外。

## 技術スタック

*   **Frontend**: React, TypeScript, Vite, dhtmlx-gantt
*   **Backend**: FastAPI, SQLite, SQLAlchemy
*   **Backend**: FastAPI, SQLite, SQLAlchemy
*   **Package Manager**: pnpm (Frontend), uv (Backend)

## 開発環境URL
*   **Frontend**: http://localhost:5172/


## ディレクトリ構成

*   `docs/`: ドキュメント関連
    *   `SPECIFICATION.md`: 詳細仕様書
    *   `claude.md`: 本ファイル（開発仕様まとめ）
*   `frontend/`: Reactアプリケーション
*   `backend/`: FastAPIアプリケーション

## 注意事項

*   `backend/gantt.db` は `.gitignore` に含まれており、初回起動時に自動作成されます。
